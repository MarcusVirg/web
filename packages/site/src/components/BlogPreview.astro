---
import { getCollection } from 'astro:content'
import Article from '../components/Article.astro'

const blogCollection = await getCollection('blog', ({ data: post }) =>
	import.meta.env.PROD ? !post.isDraft : true
)
---

<h2 class="font-semibold text-3xl tracking-wider mb-4">Recent Posts</h2>

<div class="flex flex-col space-y-10">
	{
		blogCollection.map((post) => (
			<Article slug={post.slug} post={post.data} showDate />
		))
	}
</div>
