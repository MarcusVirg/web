---
import Icon from './Icon.astro'
import type { Post } from '../content/_schemas'

type Props = {
	slug: string
	post: Post
	showDate?: boolean
}

const { slug, post, showDate = false } = Astro.props
---

<article class="group relative flex flex-col">
	{
		showDate && (
			<div class="flex items-center mb-3 space-x-3.5 relative z-10">
				<div aria-hidden="true" class="h-4 w-0.5 rounded-full bg-zinc-500" />
				<time class="text-sm text-zinc-500" datetime={post.date.toISOString()}>
					{post.date.toLocaleDateString('en-US', {
						month: 'long',
						day: 'numeric',
						year: 'numeric'
					})}
				</time>
			</div>
		)
	}
	<h2 class="font-semibold tracking-wider text-zinc-100 mb-3">
		<div
			class="absolute -inset-y-6 -inset-x-4 z-0 scale-95 bg-zinc-800/50 opacity-0 transition group-hover:scale-100 group-hover:opacity-100 sm:-inset-x-6 sm:rounded-2xl"
		>
		</div>
		<a href={`/blog/${slug}`}>
			<span class="absolute -inset-y-6 -inset-x-4 z-20 sm:-inset-x-6 sm:rounded-2xl">
			</span>
			<span class="relative z-10">{post.title}</span>
		</a>
	</h2>
	<p class="relative z-10 text-sm text-zinc-400">{post.excerpt}</p>
	<div
		aria-hidden="true"
		class="relative z-10 mt-4 flex items-center space-x-1 text-sm text-brand-blue font-semibold"
	>
		<span>Read on</span>
		<Icon name="chevron-forward" />
	</div>
</article>

<style>
	[astro-icon] {
		height: 1rem;
		width: 1rem;
		fill: currentColor;
	}
</style>
